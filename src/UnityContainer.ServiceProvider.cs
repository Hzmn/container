using System;
using Unity.Builder;
using Unity.Registration;

namespace Unity
{
    public partial class UnityContainer : IServiceProvider
    {
        public object GetService(Type serviceType)
        {
            var registration = GetRegistration(serviceType ?? throw new ArgumentNullException(nameof(serviceType)), null);
            var context = new BuilderContext(this, (ImplicitRegistration)registration, null, null);
            return NotThrowingBuildUp(context);
        }
    }
}
